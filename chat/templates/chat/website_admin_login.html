<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Website Admin Login/Register</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap');

html, body {
  margin: 0; padding: 0; height: 100%; overflow: hidden;
  font-family: 'Orbitron', sans-serif;
  background: radial-gradient(circle at center, #1a1a2e, #162447, #1f4068);
  display: flex; justify-content: center; align-items: center;
}

canvas#bg { position: absolute; top:0; left:0; width:100%; height:100%; z-index:0; }

.login-container {
  position: relative; z-index: 2;
  background: rgba(255,255,255,0.08);
  border-radius: 25px;
  padding: 3rem;
  width: 100%;
  max-width: 420px;
  box-shadow: 0 10px 50px rgba(0,0,0,0.3), 0 0 100px rgba(37,117,252,0.2);
  backdrop-filter: blur(20px);
  transition: transform 0.4s ease;
}

.login-container:hover { transform: scale(1.03); }

.login-container h3 {
  text-align: center;
  margin-bottom: 2rem;
  color: #ffffff;
  font-size: 2rem;
  letter-spacing: 1px;
  text-shadow: 0 0 10px #2575fc, 0 0 15px #6a11cb;
}

.nav-tabs {
  justify-content: center;
  margin-bottom: 1.5rem;
}

.nav-tabs .nav-link {
  color: #fff;
  font-weight: 600;
  border: none;
  background: rgba(255,255,255,0.05);
  margin-right: 2px;
  border-radius: 12px;
  padding: 0.5rem 1rem;
  font-size: 0.95rem;
}

.nav-tabs .nav-link.active {
  background: rgba(37,117,252,0.7);
  color: #fff;
  box-shadow: 0 0 10px #2575fc, 0 0 15px #6a11cb;
}

.form-control {
  border-radius: 15px;
  background: rgba(255,255,255,0.12);
  border: none;
  color: #fff;
  box-shadow: 0 0 8px rgba(37,117,252,0.2);
  font-size: 1rem;
  padding: 0.65rem 0.75rem;
}

.form-control:focus {
  background: rgba(255,255,255,0.2);
  outline: none;
  box-shadow: 0 0 15px #2575fc, 0 0 20px #6a11cb;
  color: #fff;
}

.btn-primary {
  width: 100%;
  padding: 0.75rem;
  border-radius: 20px;
  font-weight: 700;
  font-size: 1.05rem;
  background: linear-gradient(90deg,#2575fc,#6a11cb,#ff0099);
  background-size: 300% 100%;
  border: none;
  color: #fff;
  animation: gradientBG 6s ease infinite;
  box-shadow: 0 0 20px #2575fc, 0 0 35px #6a11cb;
  transition: all 0.3s ease;
}

.btn-primary:hover {
  transform: scale(1.05);
  box-shadow: 0 0 30px #2575fc,0 0 50px #6a11cb;
}

@keyframes gradientBG {
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

.alert {
  border-radius: 12px;
  text-align:center;
  color:#fff;
  font-weight:500;
  background: rgba(255,255,255,0.1);
  border: 1px solid #2575fc;
  margin-bottom: 1rem;
}

label { color:#fff; font-weight:500; margin-bottom:0.3rem; font-size:1rem; }

</style>
</head>
<body>

<canvas id="bg"></canvas>

<div class="login-container">
  <h3>Website Admin</h3>

  {% if messages %}
    {% for msg in messages %}
      <div class="alert alert-{{ msg.tags }}">{{ msg }}</div>
    {% endfor %}
  {% endif %}

  <ul class="nav nav-tabs mb-3" id="authTabs" role="tablist">
    <li class="nav-item" role="presentation">
      <button class="nav-link active" id="login-tab" data-bs-toggle="tab" data-bs-target="#login" type="button">Login</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="register-tab" data-bs-toggle="tab" data-bs-target="#register" type="button">Register</button>
    </li>
  </ul>

  <div class="tab-content">
    <!-- Login Tab -->
    <div class="tab-pane fade show active" id="login">
      <form method="post" action="{% url 'website_admin_login' %}">
        {% csrf_token %}
        <div class="mb-3">
          <label for="website_url" class="form-label">Website URL or ID</label>
          <input id="website_url" name="website_url" class="form-control" placeholder="https://example.com or WEB-XXXX" value="{{ website_url|default:'' }}">
        </div>
        <div class="mb-3">
          <label for="password" class="form-label">Password</label>
          <input id="password" name="password" type="password" class="form-control">
        </div>
        <button class="btn btn-primary">Login</button>
      </form>
    </div>

    <!-- Register Tab -->
    <div class="tab-pane fade" id="register">
      <form method="post" action="{% url 'website_admin_register' %}">
        {% csrf_token %}
        <div class="mb-3">
          <label for="website_name" class="form-label">Website Name</label>
          <input id="website_name" name="website_name" class="form-control" placeholder="Your website name">
        </div>
        <div class="mb-3">
          <label for="website_url_r" class="form-label">Website URL</label>
          <input id="website_url_r" name="website_url" class="form-control" placeholder="https://example.com">
        </div>
        <div class="mb-3">
          <label for="email" class="form-label">Email</label>
          <input id="email" name="email" class="form-control" placeholder="email@example.com">
        </div>
        <div class="mb-3">
          <label for="password_r" class="form-label">Password</label>
          <input id="password_r" name="password" type="password" class="form-control">
        </div>
        <button class="btn btn-primary">Register</button>
      </form>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
  // Particle Background
  const canvas = document.getElementById('bg');
  const ctx = canvas.getContext('2d');
  let W = canvas.width = window.innerWidth;
  let H = canvas.height = window.innerHeight;
  const particles = [];
  for(let i=0;i<120;i++){
    particles.push({x: Math.random()*W, y: Math.random()*H, r: Math.random()*3+1, dx:(Math.random()-0.5)*0.5, dy:(Math.random()-0.5)*0.5});
  }
  function draw(){
    ctx.clearRect(0,0,W,H);
    particles.forEach(p=>{
      ctx.beginPath();
      ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
      ctx.fillStyle='rgba(255,255,255,0.3)';
      ctx.fill();
      p.x += p.dx; p.y += p.dy;
      if(p.x<0||p.x>W) p.dx*=-1;
      if(p.y<0||p.y>H) p.dy*=-1;
    });
    requestAnimationFrame(draw);
  }
  draw();
  window.addEventListener('resize',()=>{ W = canvas.width = window.innerWidth; H = canvas.height = window.innerHeight; });
</script>

</body>
</html>
